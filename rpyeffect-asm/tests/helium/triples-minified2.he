signature Nondet =
| flip : Unit => Bool
| fail : Unit => Unit

let triple n s = 
    let i = 6 in
    let k = (if flip () then n else 0) in
    if (i = 0) then () else fail ()

let sumTriples n s = (handle (
    triple n s
) with
  | flip () => (resume False)
  | fail _ => ()
  end)

let _ = 
  handle
    match [0] with
    | [n] => (sumTriples 0 0)
    | _ => ()
    end
  with
  | parse_error _ => ()
  end
