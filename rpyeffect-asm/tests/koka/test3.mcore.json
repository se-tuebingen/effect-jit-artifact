{"metadata": {"generated by": "Koka","koka version": "3.0.4","program name": "test3"},"definitions": [{"name": {"op": "Var","id": "test3/is-mcons","type": {"op": "Function","params": [{"op": "Ptr","extern_ptr_name": "test3/mypair"}],"return": {"op": "Int"},"purity": "Effectful"}},"value": {"op": "Abs","params": [{"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}}],"body": {"op": "DebugWrap","inner": {"op": "LetRec","definitions": [],"body": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons","params": [{"op": "Var","id": "__dq_fst_dq_0","type": {"op": "String"}}, {"op": "Var","id": "__dq_snd_dq_1","type": {"op": "String"}}],"body": {"op": "DebugWrap","inner": {"op": "Literal","value": 1,"type": {"op": "Int"}},"annotation": "genBranch: [(@pat,{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(@pat@0,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst_dq_0\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (@pat@0: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst_dq_0\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"}),(@pat@1,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd_dq_1\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (@pat@1: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd_dq_1\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons2","params": [{"op": "Var","id": "__dq_fst2_dq_2","type": {"op": "Int"}}, {"op": "Var","id": "__dq_snd2_dq_3","type": {"op": "Int"}}],"body": {"op": "DebugWrap","inner": {"op": "Literal","value": 0,"type": {"op": "Int"}},"annotation": "genBranch: [(@pat@2,{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(@pat@3,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst2_dq_2\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (@pat@3: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst2_dq_2\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"}),(@pat@4,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_3\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (@pat@4: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd2_dq_3\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "Primitive","name": "non-exhaustive match","args": [],"returns": [{"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}],"rest": {"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons2\"(({\"op\": \"Var\",\"id\": \"__dq_fst2_dq_2\",\"type\": {\"op\": \"Int\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_3\",\"type\": {\"op\": \"Int\"}}))"}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons\"(({\"op\": \"Var\",\"id\": \"__dq_fst_dq_0\",\"type\": {\"op\": \"String\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd_dq_1\",\"type\": {\"op\": \"String\"}}))"},"annotation": "genMatch: guard-free case"},"annotation": "genMatch"}},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/is-mcons2","type": {"op": "Function","params": [{"op": "Ptr","extern_ptr_name": "test3/mypair"}],"return": {"op": "Int"},"purity": "Effectful"}},"value": {"op": "Abs","params": [{"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}}],"body": {"op": "DebugWrap","inner": {"op": "LetRec","definitions": [],"body": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons2","params": [{"op": "Var","id": "__dq_fst2_dq_4","type": {"op": "Int"}}, {"op": "Var","id": "__dq_snd2_dq_5","type": {"op": "Int"}}],"body": {"op": "DebugWrap","inner": {"op": "Literal","value": 1,"type": {"op": "Int"}},"annotation": "genBranch: [(@pat,{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(@pat@0,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst2_dq_4\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (@pat@0: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst2_dq_4\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"}),(@pat@1,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_5\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (@pat@1: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd2_dq_5\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "mypair","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons","params": [{"op": "Var","id": "__dq_fst_dq_6","type": {"op": "String"}}, {"op": "Var","id": "__dq_snd_dq_7","type": {"op": "String"}}],"body": {"op": "DebugWrap","inner": {"op": "Literal","value": 0,"type": {"op": "Int"}},"annotation": "genBranch: [(@pat@2,{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(@pat@3,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst_dq_6\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (@pat@3: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst_dq_6\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"}),(@pat@4,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd_dq_7\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (@pat@4: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd_dq_7\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "Primitive","name": "non-exhaustive match","args": [],"returns": [{"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}],"rest": {"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons\"(({\"op\": \"Var\",\"id\": \"__dq_fst_dq_6\",\"type\": {\"op\": \"String\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd_dq_7\",\"type\": {\"op\": \"String\"}}))"}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"mypair\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons2\"(({\"op\": \"Var\",\"id\": \"__dq_fst2_dq_4\",\"type\": {\"op\": \"Int\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_5\",\"type\": {\"op\": \"Int\"}}))"},"annotation": "genMatch: guard-free case"},"annotation": "genMatch"}},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/doprint","type": {"op": "Function","params": [{"op": "String"}],"return": {"op": "Unit"},"purity": "Effectful"}},"value": {"op": "Abs","params": [{"op": "Var","id": "s","type": {"op": "String"}}],"body": {"op": "DebugWrap","inner": {"op": "Primitive","name": "println(String): Unit","args": [{"op": "Var","id": "s","type": {"op": "String"}}],"returns": [{"op": "Var","id": "primitive_result","type": {"op": "Unit"}}],"rest": {"op": "Var","id": "primitive_result","type": {"op": "Unit"}}},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/doprinti","type": {"op": "Function","params": [{"op": "Int"}],"return": {"op": "Unit"},"purity": "Effectful"}},"value": {"op": "Abs","params": [{"op": "Var","id": "s","type": {"op": "Int"}}],"body": {"op": "DebugWrap","inner": {"op": "Primitive","name": "println(Int): Unit","args": [{"op": "Var","id": "s","type": {"op": "Int"}}],"returns": [{"op": "Var","id": "primitive_result","type": {"op": "Unit"}}],"rest": {"op": "Var","id": "primitive_result","type": {"op": "Unit"}}},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/lst","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"value": {"op": "App","fn": {"op": "Var","id": "test3/MCons2","type": {"op": "Function","params": [{"op": "Int"}, {"op": "Int"}],"return": {"op": "Ptr","extern_ptr_name": "test3/mypair"},"purity": "Effectful"}},"args": [{"op": "Literal","type": {"op": "Int"},"value": 4}, {"op": "Literal","type": {"op": "Int"},"value": 2}]}}, {"name": {"op": "Var","id": "test3/printall","type": {"op": "Function","params": [{"op": "Ptr","extern_ptr_name": "test3/mypair"}],"return": {"op": "Unit"},"purity": "Effectful"}},"value": {"op": "Abs","params": [{"op": "Var","id": "l","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}}],"body": {"op": "DebugWrap","inner": {"op": "LetRec","definitions": [],"body": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "l","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons","params": [{"op": "Var","id": "__dq_fst_dq_8","type": {"op": "String"}}, {"op": "Var","id": "__dq_snd_dq_9","type": {"op": "String"}}],"body": {"op": "DebugWrap","inner": {"op": "Let","definitions": [{"name": {"op": "Var","id": "_","type": {"op": "Unit"}},"value": {"op": "App","fn": {"op": "Var","id": "test3/doprint","type": {"op": "Function","params": [{"op": "String"}],"return": {"op": "Unit"},"purity": "Effectful"}},"args": [{"op": "DebugWrap","inner": {"op": "Var","id": "__dq_fst_dq_8","type": {"op": "String"}},"annotation": "genTest: normal: (a: string) -> {\"op\": \"Var\",\"id\": \"__dq_fst_dq_8\",\"type\": {\"op\": \"String\"}}"}]}}],"body": {"op": "App","fn": {"op": "Var","id": "test3/doprint","type": {"op": "Function","params": [{"op": "String"}],"return": {"op": "Unit"},"purity": "Effectful"}},"args": [{"op": "DebugWrap","inner": {"op": "Var","id": "__dq_snd_dq_9","type": {"op": "String"}},"annotation": "genTest: normal: (d: string) -> {\"op\": \"Var\",\"id\": \"__dq_snd_dq_9\",\"type\": {\"op\": \"String\"}}"}]}},"annotation": "genBranch: [(@pat,{\"op\": \"Var\",\"id\": \"l\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(a,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst_dq_8\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (a: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst_dq_8\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"}),(d,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd_dq_9\",\"type\": {\"op\": \"String\"}},\"annotation\": \"genTest: normal: (d: string) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd_dq_9\\\",\\\"type\\\": {\\\"op\\\": \\\"String\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "DebugWrap","inner": {"op": "Match","scrutinee": {"op": "Var","id": "l","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}},"type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","clauses": [{"tag": "test3/MCons2","params": [{"op": "Var","id": "__dq_fst2_dq_10","type": {"op": "Int"}}, {"op": "Var","id": "__dq_snd2_dq_11","type": {"op": "Int"}}],"body": {"op": "DebugWrap","inner": {"op": "Let","definitions": [{"name": {"op": "Var","id": "_@0","type": {"op": "Unit"}},"value": {"op": "App","fn": {"op": "Var","id": "test3/doprinti","type": {"op": "Function","params": [{"op": "Int"}],"return": {"op": "Unit"},"purity": "Effectful"}},"args": [{"op": "DebugWrap","inner": {"op": "Var","id": "__dq_fst2_dq_10","type": {"op": "Int"}},"annotation": "genTest: normal: (a@0: int) -> {\"op\": \"Var\",\"id\": \"__dq_fst2_dq_10\",\"type\": {\"op\": \"Int\"}}"}]}}],"body": {"op": "App","fn": {"op": "Var","id": "test3/doprinti","type": {"op": "Function","params": [{"op": "Int"}],"return": {"op": "Unit"},"purity": "Effectful"}},"args": [{"op": "DebugWrap","inner": {"op": "Var","id": "__dq_snd2_dq_11","type": {"op": "Int"}},"annotation": "genTest: normal: (d@0: int) -> {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_11\",\"type\": {\"op\": \"Int\"}}"}]}},"annotation": "genBranch: [(@pat@0,{\"op\": \"Var\",\"id\": \"l\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}),(a@0,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_fst2_dq_10\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (a@0: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_fst2_dq_10\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"}),(d@0,{\"op\": \"DebugWrap\",\"inner\": {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_11\",\"type\": {\"op\": \"Int\"}},\"annotation\": \"genTest: normal: (d@0: int) -> {\\\"op\\\": \\\"Var\\\",\\\"id\\\": \\\"__dq_snd2_dq_11\\\",\\\"type\\\": {\\\"op\\\": \\\"Int\\\"}}\"})]"}}],"default_clause": {"params": [],"body": {"op": "Primitive","name": "non-exhaustive match","args": [],"returns": [{"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}],"rest": {"op": "Var","id": "primitive_result","type": {"op": "Bottom"}}}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"l\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons2\"(({\"op\": \"Var\",\"id\": \"__dq_fst2_dq_10\",\"type\": {\"op\": \"Int\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd2_dq_11\",\"type\": {\"op\": \"Int\"}}))"}}},"annotation": "ifCon@{\"op\": \"Var\",\"id\": \"l\",\"type\": {\"op\": \"Ptr\",\"extern_ptr_name\": \"test3/mypair\"}}: \"TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})\".\"test3/MCons\"(({\"op\": \"Var\",\"id\": \"__dq_fst_dq_8\",\"type\": {\"op\": \"String\"}}, {\"op\": \"Var\",\"id\": \"__dq_snd_dq_9\",\"type\": {\"op\": \"String\"}}))"},"annotation": "genMatch: guard-free case"},"annotation": "genMatch"}},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/main","type": {"op": "Function","params": [],"return": {"op": "Unit"},"purity": "Effectful"}},"value": {"op": "Abs","params": [],"body": {"op": "DebugWrap","inner": {"op": "App","fn": {"op": "Var","id": "test3/printall","type": {"op": "Function","params": [{"op": "Ptr","extern_ptr_name": "test3/mypair"}],"return": {"op": "Unit"},"purity": "Effectful"}},"args": [{"op": "Var","id": "test3/lst","type": {"op": "Ptr","extern_ptr_name": "test3/mypair"}}]},"annotation": "genStat"}}}, {"name": {"op": "Var","id": "test3/MCons","type": {"op": "Function","params": [{"op": "String"}, {"op": "String"}],"return": {"op": "Ptr","extern_ptr_name": "test3/mypair"},"purity": "Effectful"}},"value": {"op": "DebugWrap","inner": {"op": "Abs","params": [{"op": "Var","id": "fst","type": {"op": "String"}}, {"op": "Var","id": "snd","type": {"op": "String"}}],"body": {"op": "Construct","type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","tag": "test3/MCons","args": [{"op": "Var","id": "fst","type": {"op": "String"}}, {"op": "Var","id": "snd","type": {"op": "String"}}]}},"annotation": "genConstr"}}, {"name": {"op": "Var","id": "test3/MCons2","type": {"op": "Function","params": [{"op": "Int"}, {"op": "Int"}],"return": {"op": "Ptr","extern_ptr_name": "test3/mypair"},"purity": "Effectful"}},"value": {"op": "DebugWrap","inner": {"op": "Abs","params": [{"op": "Var","id": "fst2","type": {"op": "Int"}}, {"op": "Var","id": "snd2","type": {"op": "Int"}}],"body": {"op": "Construct","type_tag": "TCon (TypeCon {typeconName = test3/mypair, typeconKind = KCon V})","tag": "test3/MCons2","args": [{"op": "Var","id": "fst2","type": {"op": "Int"}}, {"op": "Var","id": "snd2","type": {"op": "Int"}}]}},"annotation": "genConstr"}}],"main": {"op": "App","fn": {"op": "Var","id": "test3/main","type": {"op": "Function","params": [],"return": {"op": "Unit"},"purity": "Effectful"}},"args": []}}